let timerApp=new Vue({el:"#pomodoro-timer",data:{secondDecimals:0,secondUnits:0,minuteDecimals:0,minuteUnits:0,pomodoro:{mins:25,minDecimals:2,minUnits:5},shortBreak:{mins:5,minDecimals:0,minUnits:5},longBreak:{mins:15,minDecimals:1,minUnits:5},isTimerStarted:0,isBreak:0,isLongBreak:0,isStartPressed:0,isNowPomodoro:1,wasTimerPaused:0,wasAmountChanged:0,autostartBreak:0,autostartPomodoro:0,timerId:0,periodLongBreak:4,amount:0,i:0},computed:{timer:function(){return`${this.minuteDecimals}${this.minuteUnits}:${this.secondDecimals}${this.secondUnits}`}},methods:{setPomodoroTime:function(){this.minuteDecimals=this.pomodoro.minDecimals,this.minuteUnits=this.pomodoro.minUnits},setBreakTime:function(){this.minuteDecimals=this.shortBreak.minDecimals,this.minuteUnits=this.shortBreak.minUnits},setLongBreakTime:function(){this.minuteDecimals=this.longBreak.minDecimals,this.minuteUnits=this.longBreak.minUnits},setPomodoroMinutes:function(){let i=String(this.pomodoro.mins).split("");this.pomodoro.minUnits=+i[i.length-1],i.pop(),this.pomodoro.minDecimals=+i.join(""),this.isTimerStarted||this.wasTimerPaused||this.setPomodoroTime()},setBreakMinutes:function(){let i=String(this.shortBreak.mins).split("");this.shortBreak.minUnits=+i[i.length-1],i.pop(),this.shortBreak.minDecimals=+i.join(""),this.isTimerStarted||this.wasTimerPaused||this.setBreakTime()},setLongBreakMinutes:function(){let i=String(this.longBreak.mins).split("");this.longBreak.minUnits=+i[i.length-1],i.pop(),this.longBreak.minDecimals=+i.join(""),this.isTimerStarted||this.wasTimerPaused||this.setLongBreakTime()},startTimer:function(){let i=this;this.timerId=setTimeout(function t(){if(i.isTimerStarted=1,0===i.secondDecimals&&0===i.secondUnits){if(0===i.minuteUnits&&0===i.minuteDecimals)return i.isTimerStarted=0,i.wasAmountChanged=0,i.wasTimerPaused=0,i.isNowPomodoro=0,i.isStartPressed=0,void(4===i.i?(i.isLongBreak=1,i.setLongBreakTime(),i.i=0,i.autostartBreak&&i.startLongBreak()):i.isBreak||i.isLongBreak?(i.isBreak=0,i.isLongBreak=0,i.isNowPomodoro=1,i.setPomodoroTime(),i.autostartPomodoro&&i.startPomodoro()):(i.isBreak=1,i.setBreakTime(),i.autostartBreak&&i.startBreak()));0===i.minuteUnits&&0!==i.minuteDecimals?(i.minuteDecimals--,i.minuteUnits=9):0!==i.minuteUnits&&i.minuteUnits--,i.secondDecimals=5,i.secondUnits=9}else 0!==i.secondDecimals&&0===i.secondUnits?(i.secondDecimals--,i.secondUnits=9):0!==i.secondUnits&&i.secondUnits--;i.timerId=setTimeout(t,1e3)},1e3)},startPomodoro:function(){this.isTimerStarted||(this.wasTimerPaused||this.setPomodoroTime(),this.wasAmountChanged||(this.i++,this.amount++,this.wasAmountChanged=1),this.isStartPressed=1,this.isNowPomodoro=1,this.startTimer())},startBreak:function(){this.isTimerStarted||(this.wasTimerPaused||this.setBreakTime(),this.isStartPressed=1,this.startTimer())},startLongBreak:function(){this.isTimerStarted||(this.wasTimerPaused||this.setLongBreakTime(),this.isStartPressed=1,this.startTimer())},pauseTimer:function(){this.timerId&&(clearTimeout(this.timerId),this.isTimerStarted=0,this.wasTimerPaused=1,this.isStartPressed=0)},stopTimer:function(){this.timerId&&(clearTimeout(this.timerId),this.isTimerStarted=0,this.wasTimerPaused=0,this.isLongBreak?this.setLongBreakTime():this.isBreak?this.setBreakTime():this.setPomodoroTime(),this.secondUnits=0,this.secondDecimals=0,this.isStartPressed=0)},skipBreak:function(){clearTimeout(this.timerId),this.wasAmountChanged=0,this.wasTimerPaused=0,this.isTimerStarted=0,this.isBreak=0,this.isLongBreak=0,this.isNowPomodoro=1,this.setPomodoroTime(),this.autostartPomodoro&&this.startPomodoro()}}});window.onload=function(){timerApp.setPomodoroTime()};